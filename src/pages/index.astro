---
import Layout from '../layouts/Layout.astro';
import {Header} from '../components/Header.tsx';
import {WalletIcon} from '../icons/WalletIcon.tsx';
import {ProposalFilter} from '../components/ProposalFilter';
import type { ProposalCardDetails } from '../types/proposals';
import {ProposalList} from '../components/ProposalList';

const title = 'xGov';

const mockProposals: ProposalCardDetails[] = [
	{
		id: 1,
		title: 'Auto-Compounding Farms',
		phase: 'discussion',
		category: 'DeFi',
		fundingType: 'retroactive',
		requestedAmount: 75_000,
		proposer: 'CompX'
	},
	{
		id: 2,
		title: 'Tealscript interactive developer course Tealscript interactive developer course',
		phase: 'vote',
		category: 'Education',
		fundingType: 'proactive',
		requestedAmount: 30_000,
		proposer: 'AgorApp'
	},
	{
		id: 3,
		title: 'Use-Wallet',
		phase: 'vote',
		category: 'Libraries',
		fundingType: 'retroactive',
		requestedAmount: 75_000,
		proposer: 'TxnLab'
	},
	{
		id: 4,
		title: 'AlgoNFT Marketplace',
		phase: 'submission',
		category: 'NFT',
		fundingType: 'proactive',
		requestedAmount: 50_000,
		proposer: 'NFTify'
	},
	{
		id: 5,
		title: 'AlgoSwap',
		phase: 'closure',
		category: 'DeFi',
		fundingType: 'retroactive',
		requestedAmount: 100_000,
		proposer: 'SwapX'

	}
];

---
<script>
	const onConnectWallet = (url: string) => {
		console.log(url)
	}
	document.getElementById('connect-button')?.addEventListener('click', () => {
		onConnectWallet('https://wallet.algorand.org')
	})
</script>
<Layout title={title}>
	<Header
		title={title}
	>
		<!-- Add Actions to Header based on Page and Wallet state -->
		<button id="connect-button" class="flex items-center gap-2.5 bg-algo-black text-lg rounded-md text-white p-2 px-4">
			<WalletIcon className="size-6" />
			Connect Wallet
		</button>
	</Header>
	<main class="m-auto p-4 lg:px-10 w-full grid grid-cols-1 lg:grid-cols-2">
		<div>
			<ProposalFilter className="my-2 lg:my-4" /> 
			<ProposalList proposals={mockProposals} client:only="react" />
		</div>
	</main>
</Layout>
